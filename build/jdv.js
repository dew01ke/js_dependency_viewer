!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t){e.exports=require("path")},function(e,t,n){const r=n(9),{COLORS:o}=n(3),s={info:e=>console.log(o.default,e,o.reset),success:e=>console.log(o.success,e,o.reset),error:e=>console.log(o.error,e,o.reset)};e.exports={log:s,flatten:function(e){return[].concat.apply([],e)},safeJSONParse:function(e){let t={};try{t=JSON.parse(e)}catch(e){}return t},splitNames:function(e){return e.split(",")},filterExternalDependencies:function(e){return e.filter(e=>!/^\./.test(e.module))},asyncReduce:async function(e,t,n){let r=n;for(value of e)r=await t(r,value);return r},_DIRTY_getPackageSize:function(e,t){return new Promise((t,n)=>{r.get(`https://packagephobia.now.sh/result?p=${e}`,e=>{let n="";e.on("data",e=>{n+=e}),e.on("end",()=>{const e=/\| Publish Size: (.*?) \|/.exec(n);let r=e&&e.length>1?e[1]:0;return/mb/i.test(r)&&(r=1024*parseFloat(r.split(/mb/i))),/kb/i.test(r)&&(r=parseFloat(r.split(/kb/i))),t(r)})}).on("error",e=>t(0))})}}},function(e,t,n){const{promisify:r}=n(6),{resolve:o}=n(0),s=n(0),a=n(7),i=r(a.readdir),c=r(a.stat),u=r(a.readFile),l=r(a.writeFile);e.exports={getFiles:async function e(t,n=["node_modules"]){const r=await i(t);return(await Promise.all(r.map(async r=>{const s=o(t,r);return n.includes(r)?"":(await c(s)).isDirectory()?e(s):s}))).reduce((e,t)=>e.concat(t),[])},getContent:async function(e){return{filename:s.relative(process.cwd(),e),content:await u(e,{encoding:"utf8"})}},saveData:function(e,t){return l(e,t,"utf8")},isExists:async function(e){let t=!1;try{await c(e),t=!0}catch(e){}return t}}},function(e,t){e.exports={PATTERN_IMPORT:/import\s(?:{)*(.*?)(?:})*\sfrom\s(?:"|')(.*)(?:"|')/gi,COLORS:{default:"[33m",reset:"[0m",error:"[31m",base:"[37m",success:"[32m"}}},function(e,t,n){const{find:r}=n(5),{saveData:o}=n(2),{log:s}=n(1),a=process.argv.slice(2),i={};a.forEach(e=>{const[t,n]=e.split("=");switch(t){case"--target":i.target=n;break;case"--out":i.out=n}}),i.target?(s.info("Processing... Target path = "+i.target),r(i.target).then(e=>!!e&&(Array.isArray(e)&&!e.length?s.info("No external dependencies found"):i.out?o(i.out,JSON.stringify(e)).then(()=>{s.success("The result has been save to "+i.out)}):void s.success(JSON.stringify(e))))):s.error("One or more required parameters are missing"),process.on("unhandledRejection",()=>{s.error("Ooops, unhandled rejection")})},function(e,t,n){const r=n(0),{getFiles:o,getContent:s,isExists:a}=n(2),{parseContent:i}=n(8),{flatten:c,filterExternalDependencies:u,safeJSONParse:l,asyncReduce:f,_DIRTY_getPackageSize:p,log:d}=n(1);function m(e,t=[".vue",".js",".ts",".js6",".es6"]){return e.filter(e=>t.includes(r.extname(e)))}e.exports={find:async function(e){if(!await a(e))return d.error("Target path does not exist");if(!await a(r.join(e,"package.json")))return d.error("Target path should contain a valid package.json");const t=await async function(e="./"){return s(r.join(e,"package.json")).then(({content:e})=>l(e)).then(e=>e.dependencies||{}).then(async e=>f(Object.keys(e),async(e,t)=>(e[t]=await p(t),e),{}))}(e),n=await(g=e,o(g).then(m).then(async e=>await Promise.all(e.map(e=>s(e)))).then(e=>e.map(({content:e,filename:t})=>i(e,t))).then(c).then(u));var g;const h={};return n.forEach(e=>{if(!t.hasOwnProperty(e.module))return;const n=e.module;h[n]||(h[n]={module:e.module,size:t[e.module],methods:{}});const r=`${e.module}_${e.originalName}`;h[n].methods[r]||(h[n].methods[r]={name:e.originalName,location:[]}),h[n].methods[r].location.push(e.filename)}),Object.values(h).map(e=>({...e,methods:Object.values(e.methods)}))}}},function(e,t){e.exports=require("util")},function(e,t){e.exports=require("fs")},function(e,t,n){const{PATTERN_IMPORT:r}=n(3),{flatten:o,splitNames:s}=n(1);function a(e){const t=e.trim().split(" as ");return{originalName:t[0],shadowName:t[1]||null}}e.exports={parseContent:function(e,t){return o(function(e,t){return e.map(e=>{return s(e.name).map(n=>({...a(n),...e,filename:t}))})}(function(e,t){let n,r=[];for(;n=t.exec(e);){const[e,t,o]=n;r.push({name:t,module:o})}return r}(e,r),t))}}},function(e,t){e.exports=require("https")}]);